## Chapter 04. 새로운 인터페이스로 기존 루틴 부르기

루틴을 호출해야 하는데 기존 인터페이스 때문에 어렵거나, 복잡하거나, 혼란스럽거나, 지루해지곤 합니다.  
이 모든 경우에 호출하고 싶은 인터페이스를 새롭게 구현해서 호출하세요.  

- 거꾸로 코딩하기: 루틴의 마지막 줄부터 시작해 보세요. 이때는 마치 마지막 줄에 이르기까지 필요한 결과는 모두 확보한 듯이 짜는 거죠.

> 프록시 패턴?  
> 토스페이먼츠가 이런 방식으로 결제 API 스펙을 개선한걸로 알고 있음  
>
> 기간계(레거시)시스템 작업할 때 활용 중  
> 기간계 시스템의 dto는 워낙 복잡하다보니 새로운 컨트롤러/서비스에서 레거시 클래스를 직접 호출하는 것이 부담스러움
> 새로운 컨트롤러/서비스에서는 필요한 값만 정의하고, factory라는 어댑터 성격의 클래스를 통해 레거시 클래스를 호출함
>
> paymentControllerV2 > paymentService > LegacyPaymentFactory (레거시 클래스 호출을 위한 dto 정의) > LegacyPaymentService
