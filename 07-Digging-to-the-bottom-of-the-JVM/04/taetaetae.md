# 4장 : 가상 머신 성능 모니터링과 문제 해결 도구

## 4.2 기본적인 문제 해결 도구
- jps : 가상 머신 프로세스 상태 도구
  - 동작 중신 가상 머신 프로세스 목록을 보여주며 각 프로세스에서 가상 머신이 실행한 메인 클래스(main() 메서드를 포함하는 클래스)의 이름을 알려준다.
- jstat : 가상 머신 통계 모니터링 도구
  - JVM 통계적 모니터링 도구(JVM stastics monitoring tool)인 jstat은 가상 머신의 다양한 작동 상태 정보를 모니터링하는 데 사용한다. 
  - 클래스 로딩, 메모리, 가비지 컬렉션, JIT컴파일과 같은 런타임 데이터를 보여 준다. 
  - 런타임 가상 머신 성능문제를 찾는 보편적인 도구로 활용될 수 있다.
- jinfo : 가상 설정 정보 도구
  - 가상 머신의 다양한 매개 변수를 실시간으로 확인하고 변경하는 도구이다.
- jmap : 자바 메모리 매핑 도구
  - 힙 스냅숏을 파일로 덤프해 주는 자바용 메모리 맵 명령어이다. 
  - 힙 스냅숏 덤프 외에도 F-큐, 자바 힙과 메서드 영역 상세 정보도 알아낼 수 있다.
- jhat : 가상 머신 힙 덤프 스냅숏 분석 도구
  - 가상 머신 힙 덤프 스냅숏 분석 도구이다. jmap으로 분석한 힙 스냅숏을 분석할 수 있다. 하지만 이를 활용하는 사람은 많지 않다.
  - 따라서 외부 분석 도구나 온라인 분석 사이트를 활용할 것을 권장한다.
- jstack : 자바 스택 추척 도구
  - 스레드 스냅숏을 생성하는데 쓰인다. (스레드 덤프 또는 자바 코어 파일이라고 부른다.)
- 기타...
## 4.3 GUI 도구
- JSHDB : 서비스 에이전트 기반 디버깅 도구
  - 변수들이 어디에 저장되어 있는지를 디버깅 가능
  - 디버깅을 위한 브레이크 포인트를 설정하고, 스텝 인, 스텝 오버, 스텝 리턴, 다음 브레이크 포인트로 이동하는 등의 디버깅 기능을 제공
- JConsole : 자바 모니터링 및 관리 콘솔
  - JMX에 기반한 GUI 모니터링 및 관리 도구
  - JMX MBean을 통해 시스템의 매개 변숫값을 동적으로 조정
  - Memory 탭 : jstat의 GUI 버전, Thread 탭 : jstack의 GUI 버전
- VisualVM : 다용도 문제 대응 도구
  - JConsole과 JMC의 기능을 통합한 도구
  - 힙 스냅샷 덤프 생성 및 모니터링, 성능 분석
- JMC : 지속 가능한 온라인 모니터링 도구 (유료)

## 4.4 핫스팍 가상머신 플러그인과 도구
- HSDIS
  - JIT 컴파일러의 디버깅을 위한 플러그인
  - JIT 컴파일러가 생성한 기계어 코드를 디스어셈블하여 보여준다.
- JITWatch
  - JIT 컴파일러의 로그를 분석하여 JIT 컴파일러의 동작을 시각화해주는 플러그인

## 4.5 마치며
- 도구를 잘 활용하자.